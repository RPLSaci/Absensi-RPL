let api="https://absen.rplsaci.tech/";function getNav(){document.getElementById("navbar-cta").classList.toggle("hidden")}async function log(){let e=document.getElementById("token").value,t=await fetch(api+"api/checkAuthority",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})});200===(await t.json()).status?(console.log("correct"),localStorage.setItem("token",e),alert("Authorized, please click on continue"),document.querySelector("#main").innerHTML+='\n        <a href="./manageAbsen.html" class="btn btn-wide">Continue</a>\n        '):(console.log("not correct"),alert("Error Unauthorized Access Token"))}function out(){localStorage.clear(),alert("Access Token Cleared")}async function loadData(){console.log("Loading Data");let e=await fetch(api+"api/showabsen"),t=await e.json();if(200===t.status){let e=document.getElementById("absen-table"),a="",n=JSON.parse(t.message);console.log(n);for(let e=0;e<n.length;e++)a+=`\n            <tbody>\n        <tr class="bg-white">\n            <td class="px-4 py-2">${n[e].nama}</td>\n            <td class="px-4 py-2">${n[e].kelas}${n[e].kelasStr.toUpperCase().replace("X","").replace("-","").replace(" ","")}</td>\n            <td class="px-4 py-2">${n[e].status}</td>\n            <td class="px-4 py-2">${n[e].alasan}</td>\n            <td class="px-4 py-2">${new Date(n[e].time).toLocaleString()}</td>\n            <td class="px-4 py-2">\n            <button onclick="deleteId(this)" class="btn btn-primary" data-id="${n[e]._id}">Delete</button>\n            </td>\n        </tr>\n        </tbody>\n        `;console.log(a),e.innerHTML+=a,e.classList.add("table-auto")}}async function deleteId(e){if(!confirm("Yakin kah ?"))return;let t=e.getAttribute("data-id"),a=localStorage.getItem("token"),n=await fetch(api+"api/deleteAbsen",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a,id:t})}),o=await n.json();200===o.status?(alert(o.message),document.location.reload()):alert(o.message)}document.querySelector("#absen-table")&&(console.log("Loading"),loadData()),document.getElementById("excel")&&document.getElementById("excel").setAttribute("href",api+"api/export");
//# sourceMappingURL=login.4cf6c9e4.js.map
