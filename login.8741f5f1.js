let api="https://absen.rplsaci.tech/";function getNav(){document.getElementById("navbar-cta").classList.toggle("hidden")}async function log(){let t=document.getElementById("token").value,e=await fetch(api+"api/checkAuthority",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t})});200===(await e.json()).status?(console.log("correct"),localStorage.setItem("token",t),alert("Authorized, please click on continue"),document.querySelector("#main").innerHTML+='\n        <a href="./manageAbsen.html" class="btn btn-wide">Continue</a>\n        '):(console.log("not correct"),alert("Error Unauthorized Access Token"))}function out(){localStorage.clear(),alert("Access Token Cleared")}async function loadData(){console.log("Loading Data");let t=await fetch(api+"api/showabsen"),e=await t.json();if(200===e.status){let t=document.getElementById("absen-table"),a="",n=JSON.parse(e.message);console.log(n);for(let t=0;t<n.length;t++)a+=`\n            <tbody>\n        <tr class="bg-white">\n            <td class="px-4 py-2">${n[t].nama}</td>\n            <td class="px-4 py-2">${n[t].kelas}${n[t].kelasStr.toUpperCase()}</td>\n            <td class="px-4 py-2">${n[t].status}</td>\n            <td class="px-4 py-2">${n[t].alasan}</td>\n            <td class="px-4 py-2">${new Date(n[t].time).toLocaleString()}</td>\n            <td class="px-4 py-2">\n            <button onclick="deleteId(this)" class="btn btn-primary" data-id="${n[t]._id}">Delete</button>\n            </td>\n        </tr>\n        </tbody>\n        `;console.log(a),t.innerHTML+=a,t.classList.add("table-auto")}}async function deleteId(t){let e=t.getAttribute("data-id"),a=localStorage.getItem("token"),n=await fetch(api+"api/deleteAbsen",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a,id:e})}),o=await n.json();200===o.status?(alert(o.message),document.location.reload()):alert(o.message)}document.querySelector("#absen-table")&&(console.log("Loading"),loadData());
//# sourceMappingURL=login.8741f5f1.js.map
